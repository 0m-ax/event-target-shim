!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.eventTargetShim=e()}}(function(){return function e(t,n,r){function o(a,i){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!i&&l)return l(a,!0);if(u)return u(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var u="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t){for(var n=e[a.LISTENERS][t];null!=n;){if(n.kind===a.ATTRIBUTE)return n.listener;n=n.next}return null}function o(e,t,n){if(null!=n&&"function"!=typeof n)throw new TypeError("listener should be a function.");for(var r=null,o=e[a.LISTENERS][t];null!=o;)o.kind===a.ATTRIBUTE?null==r?e[a.LISTENERS][t]=o.next:r.next=o.next:r=o,o=o.next;null!=n&&(null==r?e[a.LISTENERS][t]=a.newNode(n,a.ATTRIBUTE):r.next=a.newNode(n,a.ATTRIBUTE))}function u(e,t){function n(){e.call(this)}var u={constructor:{value:n,configurable:!0,writable:!0}};return t.forEach(function(e){u["on"+e]={get:function(){return r(this,e)},set:function(t){o(this,e,t)},configurable:!0,enumerable:!0}}),n.prototype=Object.create(e.prototype,u),n}Object.defineProperty(n,"__esModule",{value:!0}),n.defineCustomEventTarget=u;var a=e("./commons")},{"./commons":4}],2:[function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(!(this instanceof r)){if(t.length>0)return u.defineCustomEventTarget(r,t);throw new TypeError("Cannot call a class as a function")}Object.defineProperty(this,o.LISTENERS,{value:Object.create(null)})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=e("./commons"),u=e("./CustomEventTarget"),a=e("./EventWrapper"),i="undefined"!=typeof window&&"undefined"!=typeof window.EventTarget;r.prototype=Object.create((i?window.EventTarget:Object).prototype,{constructor:{value:r,writable:!0,configurable:!0},addEventListener:{value:function(e,t){var n=void 0===arguments[2]?!1:arguments[2];if(null==t)return!1;if("function"!=typeof t)throw new TypeError("listener should be a function.");var r=n?o.CAPTURE:o.BUBBLE,u=this[o.LISTENERS][e];if(null==u)return this[o.LISTENERS][e]=o.newNode(t,r),!0;for(var a=null;null!=u;){if(u.listener===t&&u.kind===r)return!1;a=u,u=u.next}return a.next=o.newNode(t,r),!0},configurable:!0,writable:!0},removeEventListener:{value:function(e,t){var n=void 0===arguments[2]?!1:arguments[2];if(null==t)return!1;for(var r=n?o.CAPTURE:o.BUBBLE,u=null,a=this[o.LISTENERS][e];null!=a;){if(a.listener===t&&a.kind===r)return null==u?this[o.LISTENERS][e]=a.next:u.next=a.next,!0;u=a,a=a.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(e){var t=this[o.LISTENERS][e.type];if(null==t)return!0;for(e=a.createEventWrapper(e,this);null!=t&&(t.listener.call(this,e),!e[a.STOP_IMMEDIATE_PROPAGATION_FLAG]);)t=t.next;return!e.defaultPrevented},configurable:!0,writable:!0}}),t.exports=n["default"]},{"./CustomEventTarget":1,"./EventWrapper":3,"./commons":4}],3:[function(e,t,n){"use strict";function r(e,t){var n="number"==typeof e.timeStamp?e.timeStamp:Date.now(),r=Object.create(Object.create(e,l),{type:{value:e.type,enumerable:!0},target:{value:t,enumerable:!0},currentTarget:{value:t,enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:Boolean(e.bubbles),enumerable:!0},cancelable:{value:Boolean(e.cancelable),enumerable:!0},timeStamp:{value:n,enumerable:!0},isTrusted:{value:!1,enumerable:!0}});return Object.defineProperty(r,u,{value:!1,writable:!0}),Object.defineProperty(r,a,{value:!1,writable:!0}),Object.defineProperty(r,i,{value:e}),r}Object.defineProperty(n,"__esModule",{value:!0}),n.createEventWrapper=r;var o=e("./commons"),u=o.symbol("stop_immediate_propagation_flag");n.STOP_IMMEDIATE_PROPAGATION_FLAG=u;var a=o.symbol("canceled_flag"),i=o.symbol("original_event"),l={stopPropagation:{value:function(){var e=this[i];"function"==typeof e.stopPropagation&&e.stopPropagation()},writable:!0,configurable:!0},stopImmediatePropagation:{value:function(){this[u]=!0;var e=this[i];"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()},writable:!0,configurable:!0},preventDefault:{value:function(){this.cancelable===!0&&(this[a]=!0);var e=this[i];"function"==typeof e.preventDefault&&e.preventDefault()},writable:!0,configurable:!0},defaultPrevented:{get:function(){return this[a]},enumerable:!0,configurable:!0}}},{"./commons":4}],4:[function(e,t,n){"use strict";function r(e,t){return{listener:e,kind:t,next:null}}Object.defineProperty(n,"__esModule",{value:!0}),n.newNode=r;var o="undefined"!=typeof Symbol?Symbol:function(e){return"[["+e+"_"+Math.random().toFixed(8).slice(2)+"]]"};n.symbol=o;var u=o("listeners");n.LISTENERS=u;var a=1;n.CAPTURE=a;var i=2;n.BUBBLE=i;var l=3;n.ATTRIBUTE=l},{}]},{},[2])(2)});