!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.eventTargetShim=e()}}(function(){return function e(n,t,r){function u(o,i){if(!t[o]){if(!n[o]){var l="function"==typeof require&&require;if(!i&&l)return l(o,!0);if(a)return a(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[o]={exports:{}};n[o][0].call(c.exports,function(e){var t=n[o][1][e];return u(t?t:e)},c,c.exports,e,n,t,r)}return t[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)u(r[o]);return u}({1:[function(e,n,t){"use strict";function r(e,n){for(var t=e[i][n];null!=t;){if(t.kind===l)return t.listener;t=t.next}return null}function u(e,n,t){if(null!=t&&"function"!=typeof t)throw new TypeError("listener should be a function.");for(var r=null,u=e[i][n];null!=u;)u.kind===l?null==r?e[i][n]=u.next:r.next=u.next:r=u,u=u.next;null!=t&&(null==r?e[i][n]=f(t,l):r.next=f(t,l))}function a(e,n){function t(){e.call(this)}var a={constructor:{value:t,configurable:!0,writable:!0}};return n.forEach(function(e){a["on"+e]={get:function(){return r(this,e)},set:function(n){u(this,e,n)},configurable:!0,enumerable:!0}}),t.prototype=Object.create(e.prototype,a),t}t.defineCustomEventTarget=a,Object.defineProperty(t,"__esModule",{value:!0});var o=e("./commons"),i=o.LISTENERS,l=o.ATTRIBUTE,f=o.newNode},{"./commons":4}],2:[function(e,n){"use strict";function t(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];if(!(this instanceof t)){if(n.length>0)return l(t,n);throw new TypeError("Cannot call a class as a function")}this[u]=Object.create(null)}n.exports=t;var r=e("./commons"),u=r.LISTENERS,a=r.CAPTURE,o=r.BUBBLE,i=r.newNode,l=e("./CustomEventTarget").defineCustomEventTarget,f=e("./EventWrapper"),c=f.createEventWrapper,s=f.STOP_IMMEDIATE_PROPAGATION_FLAG,v=f.DISPATCH_FLAG,b=f.CANCELED_FLAG,p="undefined"!=typeof window&&"undefined"!=typeof window.EventTarget;t.prototype=Object.create((p?window.EventTarget:Object).prototype,{constructor:{value:t,writable:!0,configurable:!0},addEventListener:{value:function(e,n){var t=void 0===arguments[2]?!1:arguments[2];if(null==n)return!1;if("function"!=typeof n)throw new TypeError("listener should be a function.");var r=t?a:o,l=this[u][e];if(null==l)return this[u][e]=i(n,r),!0;for(var f=null;null!=l;){if(l.listener===n&&l.kind===r)return!1;f=l,l=l.next}return f.next=i(n,r),!0},configurable:!0,writable:!0},removeEventListener:{value:function(e,n){var t=void 0===arguments[2]?!1:arguments[2];if(null==n)return!1;for(var r=t?a:o,i=null,l=this[u][e];null!=l;){if(l.listener===n&&l.kind===r)return null==i?this[u][e]=l.next:i.next=l.next,!0;i=l,l=l.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(e){if(e[v])throw new Error("InvalidStateError");var n=this[u][e.type];if(null==n)return!0;for(e=c(e,this);null!=n&&(n.listener.call(this,e),!e[s]);)n=n.next;return!e[b]},configurable:!0,writable:!0}})},{"./CustomEventTarget":1,"./EventWrapper":3,"./commons":4}],3:[function(e,n,t){"use strict";function r(e,n){var t="number"==typeof e.timeStamp?e.timeStamp:Date.now();return Object.create(Object.create(e,l),function(){var r={type:{value:e.type,enumerable:!0},target:{value:n,enumerable:!0},currentTarget:{value:n,enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:Boolean(e.bubbles),enumerable:!0},cancelable:{value:Boolean(e.cancelable),enumerable:!0},timeStamp:{value:t,enumerable:!0},isTrusted:{value:!1,enumerable:!0}};return u(r,a,{value:!1,writable:!0}),u(r,o,{value:!1,writable:!0}),u(r,i,{value:!0,writable:!0}),r}())}var u=function(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0})};t.createEventWrapper=r,Object.defineProperty(t,"__esModule",{value:!0});var a=Symbol("stop immediate propagation flag");t.STOP_IMMEDIATE_PROPAGATION_FLAG=a;var o=Symbol("canceled flag");t.CANCELED_FLAG=o;var i=Symbol("dispatch flag");t.DISPATCH_FLAG=i;var l={stopPropagation:{value:function(){},writable:!0,configurable:!0},stopImmediatePropagation:{value:function(){this[a]=!0},writable:!0,configurable:!0},preventDefault:{value:function(){this.cancelable===!0&&(this[o]=!0)},writable:!0,configurable:!0},defaultPrevented:{get:function(){return this[o]},enumerable:!0,configurable:!0}}},{}],4:[function(e,n,t){"use strict";function r(e,n){return{listener:e,kind:n,next:null}}t.newNode=r,Object.defineProperty(t,"__esModule",{value:!0});var u=Symbol("listeners");t.LISTENERS=u;var a=1;t.CAPTURE=a;var o=2;t.BUBBLE=o;var i=3;t.ATTRIBUTE=i},{}]},{},[2])(2)});